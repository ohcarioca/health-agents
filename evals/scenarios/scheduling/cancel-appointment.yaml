id: scheduling-cancel-appointment
agent: scheduling
locale: pt-BR
description: "Patient cancels an existing appointment"

persona:
  name: Pedro Costa
  phone: "11987650004"

fixtures:
  professionals:
    - id: eval-prof-2
      name: Dra. Ana Souza
      specialty: Clinico Geral
      appointment_duration_minutes: 30
      schedule_grid:
        monday: [{ start: "08:00", end: "18:00" }]
  appointments:
    - id: eval-appt-1
      professional_id: eval-prof-2
      starts_at: "2026-03-01T14:00:00.000Z"
      ends_at: "2026-03-01T14:30:00.000Z"
      status: scheduled

turns:
  - user: "Preciso cancelar minha consulta"
    expect:
      tools_called: [list_patient_appointments]

  - user: "Sim, pode cancelar. Tive um imprevisto."
    expect:
      tools_called: [cancel_appointment]
